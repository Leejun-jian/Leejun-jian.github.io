<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="shell编程（脚本编程）123#!&#x2F;usr&#x2F;bin&#x2F;bashecho &quot;hello&quot;exit 0       为脚本文件更改权限之后，加上执行权限，就可以当做可执行文件来执行，但是区别于.exe文件  C&#x2F;C++  编译型：xxx.c 编译生成二进制可执行程序，直接运行可执行程序（运行效率高，开发效率低） shell     解释型：需要解释器，通过解释器解释执行（">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2023/08/29/shell%E7%BC%96%E7%A8%8B%EF%BC%88%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%EF%BC%89/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="shell编程（脚本编程）123#!&#x2F;usr&#x2F;bin&#x2F;bashecho &quot;hello&quot;exit 0       为脚本文件更改权限之后，加上执行权限，就可以当做可执行文件来执行，但是区别于.exe文件  C&#x2F;C++  编译型：xxx.c 编译生成二进制可执行程序，直接运行可执行程序（运行效率高，开发效率低） shell     解释型：需要解释器，通过解释器解释执行（">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303230805224.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303231047977.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303231626311.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308132127559.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308132647099.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308133247193.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308133529549.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306231500210.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306231535908.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306232012721.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308161845665.png">
<meta property="og:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308162458916.png">
<meta property="article:published_time" content="2023-08-29T13:11:36.893Z">
<meta property="article:modified_time" content="2022-10-24T03:02:50.297Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303230805224.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-shell编程（脚本编程）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/08/29/shell%E7%BC%96%E7%A8%8B%EF%BC%88%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2023-08-29T13:11:36.893Z" itemprop="datePublished">2023-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="shell编程（脚本编程）"><a href="#shell编程（脚本编程）" class="headerlink" title="shell编程（脚本编程）"></a>shell编程（脚本编程）</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/bash</span><br><span class="line">echo <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span>    </span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303230805224.png" alt="image-20220303230805224"></p>
<p>为脚本文件更改权限之后，加上执行权限，就可以当做可执行文件来执行，但是区别于.exe文件</p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303231047977.png" alt="image-20220303231047977"></p>
<p>C&#x2F;C++  编译型：xxx.c 编译生成二进制可执行程序，直接运行可执行程序（运行效率高，开发效率低）</p>
<p>shell     解释型：需要解释器，通过解释器解释执行（开发效率高，运行效率低）</p>
<h6 id="当对性能不作要求的时候，我们使用解释型语言会更加高效"><a href="#当对性能不作要求的时候，我们使用解释型语言会更加高效" class="headerlink" title="当对性能不作要求的时候，我们使用解释型语言会更加高效"></a>当对性能不作要求的时候，我们使用解释型语言会更加高效</h6><h6 id="写的是一个脚本文件，但是运行的是一个解释器，通过解释器来解释脚本文件；脚本文件是文本文件，可执行程序是脚本解释器，将脚本程序当做参数，传给脚本解释器来进行运行-如果需要知道脚本文件执行时的进程号，实际上就是脚本解释器的进程号。"><a href="#写的是一个脚本文件，但是运行的是一个解释器，通过解释器来解释脚本文件；脚本文件是文本文件，可执行程序是脚本解释器，将脚本程序当做参数，传给脚本解释器来进行运行-如果需要知道脚本文件执行时的进程号，实际上就是脚本解释器的进程号。" class="headerlink" title="写的是一个脚本文件，但是运行的是一个解释器，通过解释器来解释脚本文件；脚本文件是文本文件，可执行程序是脚本解释器，将脚本程序当做参数，传给脚本解释器来进行运行.如果需要知道脚本文件执行时的进程号，实际上就是脚本解释器的进程号。"></a>写的是一个脚本文件，但是运行的是一个解释器，通过解释器来解释脚本文件；脚本文件是文本文件，可执行程序是脚本解释器，将脚本程序当做参数，传给脚本解释器来进行运行.如果需要知道脚本文件执行时的进程号，实际上就是脚本解释器的进程号。</h6><h2 id="脚本编程的相关知识点"><a href="#脚本编程的相关知识点" class="headerlink" title="脚本编程的相关知识点"></a>脚本编程的相关知识点</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="本地变量"><a href="#本地变量" class="headerlink" title="本地变量"></a>本地变量</h4><p>在传统的C&#x2F;C++等编译型语言当中，我们的变量和值的关系是每一个值和变量（地址空间结合），每一个变量都有一个固定的地址，但是在解释型语言中，当变量被赋予不同的值的时候，他的地址也会随之改变，不可将两种不同类型的语言相提并论（<strong>内存分布方面</strong>）；解释型语言没有类型的区别</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">str=hello</span><br><span class="line">val=99</span><br><span class="line">mystr=$val#用val给mystr赋值</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">井号为注释标准</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="built_in">echo</span>是输出，相当于<span class="built_in">printf</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在赋值的时候加不加双引号是都可以的，且等号的两边不能有空格</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">如果要原样输出，请使用单引号</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在键盘获取</span></span><br><span class="line"></span><br><span class="line">echo ”input“</span><br><span class="line">read line</span><br><span class="line">echo &quot;line=$line&quot;</span><br><span class="line"></span><br><span class="line">echo &#x27;val=$val&#x27;</span><br><span class="line">echo “val=$val”</span><br><span class="line">echo “str=$str”</span><br><span class="line"></span><br><span class="line">exit 0</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220303231626311.png" alt="image-20220303231626311"></p>
<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><p>在当前环境中已经定义好的可以直接使用，例如 PATH</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;$PATH&quot;#最常见环境变量，可执行程序存放的地点</span><br><span class="line">echo &quot;$PS1&quot;#命令提示符</span><br><span class="line">echo “\$0=$0”#脚本的名字</span><br><span class="line">echo &quot;\$#=$#&quot;#传递给脚本的参数个数</span><br><span class="line">echo &quot;\$$=$$&quot;#shell脚本的进程号，脚本程序通常会用他来生成一个唯一的临时文件，如/tmp/tmpfile</span><br><span class="line">echo &quot;\$1=$1&quot;#第一个参数</span><br><span class="line">echo “\$2=$2”#第二个参数，$后面跟的几就是第几个参数</span><br></pre></td></tr></table></figure>



<h4 id="参数变量"><a href="#参数变量" class="headerlink" title="参数变量"></a>参数变量</h4><h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;input&quot;</span><br><span class="line">read line</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断字符串相等 等号两边有空格</span></span><br><span class="line">if [ &quot;$line&quot; = &quot;123&quot; ]</span><br><span class="line">then</span><br><span class="line">	echo &quot;==&quot;</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">判断是否为空</span></span><br><span class="line"></span><br><span class="line">if [ -n &quot;$line&quot; ]</span><br><span class="line">then </span><br><span class="line">	echo &quot;值 $line&quot;</span><br><span class="line">else </span><br><span class="line">	echo &quot;null&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h4 id="算数比较"><a href="#算数比较" class="headerlink" title="算数比较"></a>算数比较</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/usr/bin/bash</span></span><br><span class="line">echo &quot;input&quot;</span><br><span class="line">read line</span><br><span class="line"></span><br><span class="line">if [ &quot;$line&quot; -lt 100 ]</span><br><span class="line">then</span><br><span class="line">	echo &quot;$line &lt; 100&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ &quot;$line&quot; -lt 0] || [&quot;$line&quot; -gt 100 ] </span><br><span class="line">then</span><br><span class="line">	echo &quot;成绩不合法&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h4 id="文件测试"><a href="#文件测试" class="headerlink" title="文件测试"></a>文件测试</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#文件检查命令test -f &lt;filename&gt;,检查文件是否存在</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -f fred.c<span class="comment">#开始</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">fi</span><span class="comment">#结束</span></span><br></pre></td></tr></table></figure>

<p>或者写成：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> [ -f fred.c ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /usr/bin/bash</span></span><br><span class="line"><span class="comment">#检测文件是否存在</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;input&quot;</span></span><br><span class="line"><span class="built_in">read</span> filename</span><br><span class="line"><span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$filename</span> 存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$filename</span> 不存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#if test -f $filename</span></span><br><span class="line"><span class="comment">#then</span></span><br><span class="line">	<span class="built_in">echo</span> a.py存在</span><br><span class="line"><span class="comment">#fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看文件类型</span></span><br><span class="line"><span class="keyword">if</span> [ -d <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$fielname</span> 是一个文件夹&quot;</span></span><br><span class="line"><span class="keyword">else</span> [ -f <span class="variable">$filename</span> ]</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$filename</span> 是普通文件&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$fielname</span> 不存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/bash</span><br><span class="line">i=1</span><br><span class="line">let &quot;i+=1&quot;</span><br><span class="line">echo &quot;i=$i&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="循环-for-while-until"><a href="#循环-for-while-until" class="headerlink" title="循环 for while until"></a>循环 for while until</h3><h4 id="for-循环的次数由值的个数决定"><a href="#for-循环的次数由值的个数决定" class="headerlink" title="for:循环的次数由值的个数决定"></a>for:循环的次数由值的个数决定</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">！/usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">for i in 1,2,3</span><br><span class="line">do </span><br><span class="line">echo &quot;i=$i&quot;</span><br><span class="line">sleep 1</span><br><span class="line"></span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308132127559.png" alt="image-20220308132127559"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">！/usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">for name in &amp;(ls)</span><br><span class="line">do</span><br><span class="line">echo &quot;$name&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308132647099.png" alt="image-20220308132647099"></p>
<h4 id="while：满足判断条件就执行循环"><a href="#while：满足判断条件就执行循环" class="headerlink" title="while：满足判断条件就执行循环"></a>while：满足判断条件就执行循环</h4><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308133247193.png" alt="image-20220308133247193"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308133529549.png" alt="image-20220308133529549"></p>
<h4 id="Until-不满足条件就执行循环"><a href="#Until-不满足条件就执行循环" class="headerlink" title="Until:不满足条件就执行循环"></a>Until:不满足条件就执行循环</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#! /usr/bin/bash</span><br><span class="line"></span><br><span class="line">until [ -f file.txt ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    echo <span class="string">&quot;not find file&quot;</span></span><br><span class="line">    sleep</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>以上代码没有找到file.txt就执行循环体内的代码</p>
<h3 id="在脚本语言中，我们可以直接执行命令，让命令单独存放一行，他就会被当做一个命令被执行了"><a href="#在脚本语言中，我们可以直接执行命令，让命令单独存放一行，他就会被当做一个命令被执行了" class="headerlink" title="在脚本语言中，我们可以直接执行命令，让命令单独存放一行，他就会被当做一个命令被执行了"></a>在脚本语言中，我们可以直接执行命令，让命令单独存放一行，他就会被当做一个命令被执行了</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306231500210.png" alt="image-20220306231500210"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306231535908.png" alt="image-20220306231535908"></p>
<h3 id="我们如何将命令执行的结果当做值赋给我们的变量"><a href="#我们如何将命令执行的结果当做值赋给我们的变量" class="headerlink" title="我们如何将命令执行的结果当做值赋给我们的变量"></a>我们如何将命令执行的结果当做值赋给我们的变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">str=$(ls)</span><br><span class="line">echo &quot;$str&quot;</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220306232012721.png" alt="image-20220306232012721"></p>
<h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308161845665.png" alt="image-20220308161845665"></p>
<p><img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220308162458916.png" alt="image-20220308162458916"></p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>shell编程中函数没有返回值类型，我们可以认为他是所有类型都可以返回的，因为在shell中只要定义了变量不管是在函数中还是在脚本中，只要不做特殊声明，这个变量就会一直存在在脚本的运行周期中，所以有没有返回值没有太大的区别，因为我们可以直接调用局部变量。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /usr/bin/bash</span></span><br><span class="line"></span><br><span class="line">fun()</span><br><span class="line">&#123;</span><br><span class="line">	echo &quot;fun run&quot;</span><br><span class="line">	str=&quot;hello&quot;</span><br><span class="line">	echo &quot;str=$str&quot;</span><br><span class="line">	echo &quot;\$#=$#&quot;</span><br><span class="line">	echo &quot;\$1=$1&quot;</span><br><span class="line">	echo &quot;\$2=$2&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">my_add()</span><br><span class="line">&#123;</span><br><span class="line">	echo &quot;\$#=$#&quot;</span><br><span class="line">	echo &quot;\$1=$1&quot;</span><br><span class="line">	echo &quot;\$2=$2&quot;</span><br><span class="line">	</span><br><span class="line">	res=`expr $1+$2`</span><br><span class="line">	return res</span><br><span class="line"><span class="meta prompt_">	#</span><span class="language-bash">	其实有没有<span class="built_in">return</span>都是一样的，因为res现在全局可用</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">my_add 1 3</span><br><span class="line">echo &quot;\$?=$?&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  $? 作用是取得上一行的运行结果，如果我们继续执行这一语句</span></span><br><span class="line">echo &quot;\$?=$?&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">此时就会输出0 因为<span class="built_in">echo</span>的运行结果被认为是始终成功的，而在shell中，成功被当作是0</span></span><br></pre></td></tr></table></figure>

<p>当我们在shell函数中定义过变量之后，要将不用的变量unset掉，以防止影响后面的脚本运行，或者通过声明local的方式将变量声明为函数内可用即可。</p>
<h3 id="脚本调用C语言，C语言调用脚本"><a href="#脚本调用C语言，C语言调用脚本" class="headerlink" title="脚本调用C语言，C语言调用脚本"></a>脚本调用C语言，C语言调用脚本</h3><p>脚本调用C语言很简单，本来脚本程序中运行的就是可执行命令，当我们把C语言编译之后就会生成一个可执行命令，直接在脚本程序中写入该可执行文件，加上可执行程序的路径，我们就可以完成在脚本程序中调用C语言了。</p>
<p>使用C语言调用脚本就相对来说麻烦一点了，我们要知道脚本语言是可以当做命令来运行的，那么想一下在我们的C语言程序中，如何在程序执行过程中调用命令呢？想必大家不难想到，通过进程替换呗 ，当我们要调用脚本程序的时候直接通过进程复制+进程替换的方式将一个子进程替换为我们要执行的脚本程序，这样就可以完成在C语言中调用脚本程序了。 </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/08/29/shell%E7%BC%96%E7%A8%8B%EF%BC%88%E8%84%9A%E6%9C%AC%E7%BC%96%E7%A8%8B%EF%BC%89/" data-id="cllwc4xhn000hjsmo6dakhc3p" data-title="" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/08/29/sql%E8%AF%AD%E6%B3%95/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2023/08/29/Qt%E4%BA%86%E8%A7%A3/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/08/29/%E9%87%8D%E8%BD%BD%E5%87%BD%E6%95%B0/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/08/29/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/08/29/%E6%97%A9%E6%9C%9F%E7%B3%BB%E7%BB%9F%E9%87%87%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9D%A5%E7%AE%A1%E7%90%86%E5%92%8C%E5%AD%98%E6%94%BE%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%86%E9%9A%8F%E7%9D%80%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E7%9A%84%E5%85%B4%E8%B5%B7%EF%BC%8C%E5%A4%A7%E5%AE%B6%E6%83%B3%E8%A6%81%E9%80%9A%E8%BF%87%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E6%9D%A5%E6%89%BE%E5%88%B0%E6%95%B0%E6%8D%AE%E4%B9%8B%E9%97%B4%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8%E7%9A%84%E5%85%B3%E7%B3%BB%EF%BC%8C%E6%89%80%E4%BB%A5%E5%A4%A7%E5%AE%B6%E8%AE%BE%E8%AE%A1%E4%BA%86%E4%B8%80%E5%A5%97%E6%96%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%8C%E6%8A%8A%E6%89%80%E6%9C%89%E7%9A%84%E6%95%B0%E6%8D%AE%E5%85%A8%E9%83%A8%E5%AD%98%E5%82%A8%E5%88%B0%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%EF%BC%8C%E7%84%B6%E5%90%8E%E7%BB%9F%E4%B8%80%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%EF%BC%8C%E8%BF%99%E4%B8%AA%E7%B3%BB%E7%BB%9F%E5%8F%AB%E5%81%9A%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E3%80%82/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/08/29/%E5%BC%95%E7%94%A8%E3%80%81%E6%8C%87%E9%92%88%E5%92%8Cconst%E7%9A%84%E5%85%B3%E7%B3%BB/">(no title)</a>
          </li>
        
          <li>
            <a href="/2023/08/29/%E5%8D%8F%E5%90%8C%E8%BF%87%E6%BB%A4%E7%AE%97%E6%B3%95%E7%9A%84%E5%88%86%E7%B1%BB%EF%BC%9A/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>